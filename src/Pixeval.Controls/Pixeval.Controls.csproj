<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFramework>net8.0-windows10.0.22621.0</TargetFramework>
        <TargetPlatformMinVersion>10.0.19041.0</TargetPlatformMinVersion>
        <RootNamespace>Pixeval.Controls</RootNamespace>
        <Platforms>x86;x64;arm64</Platforms>
        <RuntimeIdentifiers>win-x86;win-x64;win-arm64</RuntimeIdentifiers>
        <UseWinUI>true</UseWinUI>
        <Nullable>Enable</Nullable>
        <LangVersion>preview</LangVersion>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
        <DefaultLanguage>zh-cn</DefaultLanguage>
    </PropertyGroup>
    <ItemGroup>
        <None Remove="AppButtonItem.xaml" />
        <None Remove="CardControl\CardControl.xaml" />
        <None Remove="HeartButton.xaml" />
        <None Remove="IconText.xaml" />
        <None Remove="Themes\Controls.xaml" />
        <None Remove="IconButton\IconButton.xaml" />
        <None Remove="LazyImage\LazyImage.xaml" />
        <None Remove="NotifyOnLoadedCalendarDatePicker\NotifyOnLoadedCalendarDatePicker.xaml" />
        <None Remove="NotifyOnLoadedComboBox\NotifyOnLoadedComboBox.xaml" />
        <None Remove="PersonView\PersonView.xaml" />
        <None Remove="PixevalBadge\PixevalBadge.xaml" />
        <None Remove="StickyHeaderScrollView.xaml" />
        <None Remove="TitleBarIconText.xaml" />
        <None Remove="ZoomableImage.xaml" />
        <None Remove="ZoomableImage\ZoomableImage.xaml" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="Microsoft.Graphics.Win2D" Version="1.1.1" />
        <PackageReference Include="Microsoft.Windows.SDK.BuildTools" Version="10.0.22621.3233" />
        <PackageReference Include="Microsoft.WindowsAppSDK" Version="1.5.240227000" />
        <PackageReference Include="Microsoft.Xaml.Behaviors.WinUI.Managed" Version="2.0.9" />
        <PackageReference Include="CommunityToolkit.WinUI.Triggers" Version="8.0.240109" />
        <PackageReference Include="CommunityToolkit.WinUI.Collections" Version="8.0.240109" />
        <PackageReference Include="CommunityToolkit.Mvvm" Version="8.2.2" />
        <PackageReference Include="CommunityToolkit.WinUI.Controls.Primitives" Version="8.0.240109" />
        <PackageReference Include="CommunityToolkit.WinUI.Extensions" Version="8.0.240109" />
        <PackageReference Include="WinUI3Utilities" Version="1.1.6.1" />

        <ProjectReference Include="..\Pixeval.Utilities\Pixeval.Utilities.csproj" />
    </ItemGroup>

    <!--Exposes PRI resources-->
    <Target Name="InjectAdditionalFiles" BeforeTargets="GenerateMSBuildEditorConfigFileShouldRun">
        <ItemGroup>
            <AdditionalFiles Include="@(PRIResource)" SourceItemGroup="PRIResource" />
        </ItemGroup>
    </Target>
    <ItemGroup>
        <CompilerVisibleItemMetadata Include="AdditionalFiles" MetadataName="SourceItemGroup" />
    </ItemGroup>

    <!--PRIResource-->
    <ItemGroup>
        <PRIResource Include="Strings\zh-cn\PixevalBadge.resjson" />
        <PRIResource Include="Strings\zh-cn\AdvancedItemsView.resjson" />
        <Page Update="IconText.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="HeartButton.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="Themes\Controls.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="AppButtonItem.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="TitleBarIconText.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="StickyHeaderScrollView.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="CardControl\CardControl.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="IconButton\IconButton.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="NotifyOnLoadedCalendarDatePicker\NotifyOnLoadedCalendarDatePicker.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="NotifyOnLoadedComboBox\NotifyOnLoadedComboBox.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="PersonView\PersonView.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="PixevalBadge\PixevalBadge.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="ZoomableImage\ZoomableImage.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="LazyImage\LazyImage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
    </ItemGroup>
</Project>
